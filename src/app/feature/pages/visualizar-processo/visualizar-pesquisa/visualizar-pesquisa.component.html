<section class="main-content-block">
    <div class="content-block">
        <app-card-pessoa [solicitacao]="solicitacao"></app-card-pessoa>

        <app-card-documentos [solicitacao]="solicitacao"></app-card-documentos>

        <app-card-observacao
            [solicitacao]="solicitacao"
            [statusAtualProcesso]="statusAtualProcesso"
            (finalizandoProcesso)="finalizandoProcesso($event)"
        ></app-card-observacao>

        <div class="d-flex justify-content-end mt-2">
            <lib-button label="Indeferir" (click)="openModalIndeferir()"></lib-button>
            <lib-button label="Deferir" (click)="openModalDeferir()" *ngIf="permissoes.inserir"></lib-button>
            <lib-button label="Alterar" (click)="redirectAlterarDados()" *ngIf="permissoes.alterar"></lib-button>
            <lib-button label="Voltar" (click)="voltarParaPesquisa()"></lib-button>
        </div>
    </div>
</section>

<app-modal-indeferir
    [solicitacao]="solicitacao"
    (finalizandoIndeferir)="finalizandoProcesso($event)"
></app-modal-indeferir>

<lib-modal label="Atenção" size="md" #modalDeferir>
    <section class="row col">
        <p>Deseja confirmar o deferimento do processo?</p>
    </section>
    <footer class="row">
        <lib-button label="Fechar" (click)="closeModal()" enfase="secondary" [icon]="'empty'" class="px-1">
        </lib-button>
        <lib-button label="Salvar" (click)="deferir()" [loading]="isLoading" [icon]="'empty'" class="px-1">
        </lib-button>
    </footer>
</lib-modal>
